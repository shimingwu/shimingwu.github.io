<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Shiming&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="寄言燕雀莫相啅， 自有云霄万里高。">
<meta property="og:type" content="website">
<meta property="og:title" content="Shiming&#39;s Blog">
<meta property="og:url" content="https://shimingwu.github.io/page/2/index.html">
<meta property="og:site_name" content="Shiming&#39;s Blog">
<meta property="og:description" content="寄言燕雀莫相啅， 自有云霄万里高。">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Shiming Wu">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Shiming&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Shiming&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://shimingwu.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-BigData-7" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/10/BigData-7/" class="article-date">
  <time datetime="2020-11-10T21:30:24.000Z" itemprop="datePublished">2020-11-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/10/BigData-7/">BigData(7)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This is revision note for NUS master study of CS5425 Big Data Systems for Data Science.</p>
<h2 id="Link-Analysis-Algorithms"><a href="#Link-Analysis-Algorithms" class="headerlink" title="Link Analysis Algorithms"></a>Link Analysis Algorithms</h2><p>There are three algorithms involved to compute the <strong>importance</strong> of nodes in the graph.</p>
<ul>
<li><code>Page Rank</code></li>
<li><code>Topic-Specific (Personalized) Page Rank</code></li>
<li><code>Web Spam Detection Algorithms</code></li>
</ul>
<h2 id="Page-Rank"><a href="#Page-Rank" class="headerlink" title="Page Rank"></a>Page Rank</h2><p>In page rank, the higher the score, the more important a node is. There is one important property of this algorithm, <strong>a page is important if it is pointed by other important pages.</strong></p>
<img src="/2020/11/10/BigData-7/flow_equation.png" class="" title="flow_equation">

<p>A flow equation is used to describe the rank.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">For node a, we can see that there are 2 outgoing links, each of the link will have a&#x2F;2.</span><br><span class="line">Similarly, node y has two outgoings, so each link is y&#x2F;2.</span><br><span class="line">For node m, only one outgoing, thus, link has m.</span><br><span class="line"></span><br><span class="line">To get the rank of y, sum up all incoming links:</span><br><span class="line">y&#x2F;2 + a&#x2F;2</span><br><span class="line"></span><br><span class="line">To get the rank of a, sum up all incoming links:</span><br><span class="line">y&#x2F;2 + m</span><br><span class="line"></span><br><span class="line">To get the rank of m, sum up all incoming links:</span><br><span class="line">a&#x2F;2</span><br></pre></td></tr></table></figure>
<p>Thus, the flow equation is:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ry &#x3D; ry&#x2F;2 + ra&#x2F;2</span><br><span class="line">ra &#x3D; ry&#x2F;2 + rm</span><br><span class="line">rm &#x3D; ra&#x2F;2</span><br></pre></td></tr></table></figure>
<p>As there are three unknowns, three equations without constants, we add one more constraint to force the uniqueness:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ry + ra + rm &#x3D; 1</span><br></pre></td></tr></table></figure>
<p>With this, we are able to calculate the page rank. However, the calculation will be very heavy when there is a large number of nodes.</p>
<h2 id="Power-iteration"><a href="#Power-iteration" class="headerlink" title="Power iteration"></a>Power iteration</h2><p>There are two parts involved in <code>power iteration</code>:</p>
<ul>
<li><code>Stochastic adjacency matrix M</code></li>
<li><code>Eigenvector</code></li>
</ul>
<p>From above, we can build a stochastic adjacency matrix M:</p>


<p>Apply the power iteration:</p>


<h2 id="Random-Teleports"><a href="#Random-Teleports" class="headerlink" title="Random Teleports"></a>Random Teleports</h2><ol>
<li><p><strong>Dead Ends</strong>. The result might not converge:<br>Node <code>A</code> points to Node <code>B</code> and Node B points to Node <code>A</code>, <code>A</code> &lt;—&gt; <code>B</code></p>
</li>
<li><p><strong>Spider traps</strong>. Importance information leaks out:<br>Node <code>A</code> points to Node <code>B</code>, <code>A</code> —&gt; <code>B</code></p>
</li>
</ol>
<p>To solve these, <code>Teleports</code> is introduced by Google. The solution is that in each ‘flow’, it has certain opportunity to jump to other nodes (not the linked one).</p>
<img src="/2020/11/10/BigData-7/illustration_random_teleport.png" class="" title="illustration_random_teleport">
<img src="/2020/11/10/BigData-7/illustration_random_teleport_calculation.png" class="" title="illustration_random_teleport_calculation">

<h2 id="Topic-Specific-PageRank"><a href="#Topic-Specific-PageRank" class="headerlink" title="Topic-Specific PageRank"></a>Topic-Specific PageRank</h2><p>The evaluation is not just conducted for the popularity but on the topic as well. To achieve this, the probability assigned for teleport is not consistent for all nodes. Instead, <strong>when a walker teleports, only a page in a set S which only includes pages are relevant to the topic will be picked.</strong></p>
<h2 id="SimRank"><a href="#SimRank" class="headerlink" title="SimRank"></a>SimRank</h2><blockquote>
<p>Effectively, SimRank is a measure that says “two objects are considered to be similar if they are referenced by similar objects.”</p>
</blockquote>
<h2 id="TrustRank"><a href="#TrustRank" class="headerlink" title="TrustRank"></a>TrustRank</h2><ul>
<li><code>Link Farms</code>: <code>Inaccessible pages</code>, <code>Accessible pages</code> and <code>Owned pages</code></li>
</ul>
<h2 id="HITS"><a href="#HITS" class="headerlink" title="HITS"></a>HITS</h2><ul>
<li><code>Hubs</code> and <code>Authorities</code></li>
</ul>
<p><strong>Hubs</strong><br>Quality as an expert. Total sum of votes for authorities pointed to.</p>
<p><strong>Authority</strong><br>Quality as a content. Total sum of votes coming from experts.</p>
<blockquote>
<p>Authorities are pages containing useful information like Newspaper home pages, Course home pages and Home pages of auto manufacturers</p>
</blockquote>
<blockquote>
<p>Hubs are pages that link to authorities like List of newspapers, Course bulletin and List of US auto manufacturers</p>
</blockquote>
<img src="/2020/11/10/BigData-7/HITS_flow.png" class="" title="HITS_flow">



<h2 id="Difference-between-PageRank-and-HITS"><a href="#Difference-between-PageRank-and-HITS" class="headerlink" title="Difference between PageRank and HITS"></a>Difference between PageRank and HITS</h2><ul>
<li>In the PageRank model, the value of the link depends on the <strong>links into u</strong></li>
<li>In the HITS model, it depends on the value of the other <strong>links out of u</strong></li>
</ul>
<h2 id="Pregel"><a href="#Pregel" class="headerlink" title="Pregel"></a>Pregel</h2><p>Pregel is serving as a computational model. There are four basic elements in Pregel model:</p>
<ul>
<li><code>Vertex</code>: In Pregel, each node(vertex) has an unique ID</li>
<li><code>Edge</code>: In Pregel, each edge can be assigned with a property</li>
<li><code>Message</code>: Message is the core design in Pregel. Message is used to indicate the status of a vertex.</li>
<li><code>Superstep</code>: One superstep is an iteration of computation happens in the Pregel.</li>
</ul>
<p>In Pregel, for each vertex at each superstep, it will receive a set of messages from previous superstep. The vertex will process all the messages then emit these messages to other vertex.</p>
<br/>
<br/>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://cloud.tencent.com/developer/news/148367" target="_blank" rel="noopener">Pregel总结</a></li>
<li><a href="https://io-meter.com/2018/03/23/pregel-in-graphs/" target="_blank" rel="noopener">图解图算法 Pregel: 模型简介与实战案例</a></li>
<li><a href="https://cshihong.github.io/2018/05/30/Pregel%EF%BC%88%E5%9B%BE%E8%AE%A1%E7%AE%97%EF%BC%89%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/" target="_blank" rel="noopener">Pregel（图计算）技术原理</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shimingwu.github.io/2020/11/10/BigData-7/" data-id="cki7gopey000tzprv3twwh6x9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Big-Data/" rel="tag">Big Data</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-BigData-4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/10/BigData-4/" class="article-date">
  <time datetime="2020-11-10T13:26:40.000Z" itemprop="datePublished">2020-11-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/10/BigData-4/">BigData(4)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This is revision note for NUS master study of CS5425 Big Data Systems for Data Science.</p>
<h2 id="Locality-Sensitive-Hashing"><a href="#Locality-Sensitive-Hashing" class="headerlink" title="Locality Sensitive Hashing"></a>Locality Sensitive Hashing</h2><ul>
<li><code>Jaccard distance/similarity</code></li>
<li><code>Shingling</code></li>
<li><code>Min-hashing</code></li>
<li><code>Locality Sensitive Hashing(LSH)</code></li>
</ul>
<p><strong>Jaccard Distance/Similarity</strong></p>
<p>We use Jaccard similarity to define the “distance” betweem two elements.</p>
<p>If we have two <strong>sets</strong>, [1,2,3,4,5,6] and [3,4,6,9,10], there are 3 elements are in intersection: [3,4,6] and there are 8 elements in the union: [1,2,3,4,5,6,9,10], thus, we have:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Jaccard similarity &#x3D; 3&#x2F;8</span><br><span class="line">Jaccard distance &#x3D; 1 - Jaccard similarity &#x3D; 1 - 3&#x2F;8 &#x3D; 5&#x2F;8</span><br></pre></td></tr></table></figure>

<p><strong>Shingling</strong></p>
<p>Shingling is to convert document into sets.</p>
<blockquote>
<p>A k-shingle (or k-gram) for a document is a sequence of k tokens that appears in the doc.</p>
</blockquote>
<p><strong>The order does matter here and the token can be a character or word or even a feature.</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Example 1:</span><br><span class="line">&#123;Hello world&#125;</span><br><span class="line">k &#x3D; 3 characters, we will have &#123;Hel, ell, llo, lo_, o_w, _wo, wor, rld&#125;</span><br><span class="line">k &#x3D; 1 word, we will have &#123;Hello, world&#125;</span><br><span class="line"></span><br><span class="line">Example 2:</span><br><span class="line">&#123;abcab&#125;</span><br><span class="line">k &#x3D; 2, we will have &#123;ab, bc, ca, ab&#125; &#x3D;&gt; remove duplicates &#x3D;&gt; &#123;ab, bc, ca&#125;</span><br><span class="line">Thus, the final result is &#123;ab, bc, ca&#125;</span><br></pre></td></tr></table></figure>

<p>Examples on how the to find the similarity between documents.</p>



<p>From the diagram, we can see</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">intersection &#x3D; 3</span><br><span class="line">union &#x3D; 6</span><br><span class="line">Jaccard similarity &#x3D; 3&#x2F;6</span><br><span class="line">Jaccard distance &#x3D; 1 - 3&#x2F;6 &#x3D; 3&#x2F;6</span><br></pre></td></tr></table></figure>

<p>However, using this method, the computation will be very heavy. </p>
<p><strong>Min-hashing</strong></p>
<p>When a document is very big, it result in a huge amount of shingles. Thus, hashing can be used to compress shingles. </p>
<blockquote>
<p>Minshaing converts large sets to short signatures, while preserving similarity</p>
</blockquote>
<p><strong>Note: min-hashing is specifically for Jaccard similarity</strong></p>
<p>The sample of how min-hashing works is shown below.</p>


<p>The signature matrix taken from the example is the [1,2,2,1]</p>
<p>After calculate multiple rounds of permutations independently, as shown below.</p>


<p>There are 3 signature matrix:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2,1,2,1</span><br><span class="line">2,1,4,1</span><br><span class="line">1,2,1,2</span><br></pre></td></tr></table></figure>

<p>The similarity calculation is</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Column 1 &amp; Column 3:</span><br><span class="line">Column 1 has (1,2)</span><br><span class="line">Column 3 has (1,2,4)</span><br><span class="line">Union: 3 as (1,2,4)</span><br><span class="line">Intersection: 2 as (1,2)</span><br><span class="line">Similarity &#x3D; 2&#x2F;3</span><br><span class="line">Distance &#x3D; 1 - 2&#x2F;3 &#x3D; 1&#x2F;3</span><br><span class="line">(2,4) are the only 1 different. So similarity &#x3D; 1 &#x2F; 3 &#x3D; 0.67</span><br></pre></td></tr></table></figure>

<p><strong>Locality Sensitive Hashing(LSH)</strong></p>
<p>Find a documents with Jaccard similarity at least s.</p>
<h2 id="Clustering"><a href="#Clustering" class="headerlink" title="Clustering"></a>Clustering</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://shimingwu.github.io/2020/11/10/BigData-4/" data-id="cki7gopeu000ozprv7ck008c0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Big-Data/" rel="tag">Big Data</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-BigData-6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/10/BigData-6/" class="article-date">
  <time datetime="2020-11-10T13:24:56.000Z" itemprop="datePublished">2020-11-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/10/BigData-6/">BigData(6)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This is revision note for NUS master study of CS5425 Big Data Systems for Data Science.</p>
<h2 id="Spark"><a href="#Spark" class="headerlink" title="Spark"></a>Spark</h2><p>Spark generalizes the MapReduce to provide the following features:</p>
<ul>
<li><code>High performance</code></li>
<li><code>Better programmability</code></li>
<li><code>A unified engine</code></li>
</ul>
<h2 id="RDD-Resilient-Distributed-Datasets"><a href="#RDD-Resilient-Distributed-Datasets" class="headerlink" title="RDD (Resilient Distributed Datasets)"></a>RDD (Resilient Distributed Datasets)</h2><p>RDD is the core abstraction. </p>
<blockquote>
<p>Collections of objects spread across a cluster, stored in RAM or on Disk. Built through parallel transformations and automatically rebuilt on failure</p>
</blockquote>
<p>There are two types of RDD:</p>
<ul>
<li><code>Parallelized collections</code>: take an existing single-node collection and parallel it</li>
<li><code>Hadoop datasets</code>: files on HDFS or other compatible storage</li>
</ul>
<p>The operations on RDDs are not computed immediately. Instead, only certain actions will trigger the computation, for example, <code>count</code>, <code>saveAsTextFile</code>.</p>
<p>RDDs track lineage information to reconstruct lost partitions.</p>
<h2 id="DataFrame"><a href="#DataFrame" class="headerlink" title="DataFrame"></a>DataFrame</h2><p>Spark SQL is a Spark module for structured data processing. There are several ways to interact with Spark SQL including SQL and the Dataset API and with the extra information to perform extra optimizations, and a DataFrame is a Dataset organized into named columns. The image below shows the general idea.</p>
<img src="/2020/11/10/BigData-6/SparkSQL.png" class="" title="SparkSQL">

<p>DataFrames hold a row with schema information and provides a relational operations regarding the schema.</p>
<h2 id="Directions-for-Spark"><a href="#Directions-for-Spark" class="headerlink" title="Directions for Spark"></a>Directions for Spark</h2><ul>
<li><code>Multi-core scalability</code></li>
<li><code>Continuous (streaming) applications</code></li>
</ul>
<h2 id="Challenges-faced-for-numerical-computation-over-big-data"><a href="#Challenges-faced-for-numerical-computation-over-big-data" class="headerlink" title="Challenges faced for numerical computation over big data"></a>Challenges faced for numerical computation over big data</h2><ul>
<li><code>Correctness</code></li>
<li><code>Performance</code>: Cache RDDs to avoid I/O and avoid unnecessary computation</li>
<li><code>Trade-off between accuracy and performance</code></li>
</ul>
<h2 id="Spark-libraries"><a href="#Spark-libraries" class="headerlink" title="Spark libraries"></a>Spark libraries</h2><p>There are many libraries in Spark to support common algorithms, like GraphX, MLlib, etc.</p>
<ul>
<li><code>GraphX</code>: A general graph processing library. It builds the graph using RDDs of nodes and edges.</li>
<li><code>Spark streaming</code>: It will split the live stream into different chunks and each chunk of data will be treated as RDDs and the processed results will be returned in batches.</li>
<li><code>Spark SQL</code>: Enables to save and query the structured data in Spark.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;text&quot;: &quot;Example&quot;,</span><br><span class="line">  &quot;user&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;Mike&quot;,</span><br><span class="line">    &quot;id:1</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">To query from Json, we can have:</span><br><span class="line">c.sql(&quot;select user.name from tweets&quot;)</span><br></pre></td></tr></table></figure></li>
<li><code>MLlib</code>: Support different machine learning algorithms</li>
</ul>
<br/>
<br/>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://spark-reference-doc-cn.readthedocs.io/zh_CN/latest/programming-guide/sql-guide.html" target="_blank" rel="noopener">Spark SQL, DataFrame 和 Dataset 编程指南</a></li>
<li><a href="https://spark.apache.org/docs/latest/sql-programming-guide.html" target="_blank" rel="noopener">Spark SQL, DataFrames and Datasets Guide</a></li>
<li><a href="https://blog.csdn.net/zg_hover/article/details/73159212" target="_blank" rel="noopener">spark2.0原理分析–RDD血缘（RDD Lineage）</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shimingwu.github.io/2020/11/10/BigData-6/" data-id="cki7gopex000rzprva25bhsi4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Big-Data/" rel="tag">Big Data</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-BigData-5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/09/BigData-5/" class="article-date">
  <time datetime="2020-11-09T20:35:18.000Z" itemprop="datePublished">2020-11-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/09/BigData-5/">BigData(5)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This is revision note for NUS master study of CS5425 Big Data Systems for Data Science.</p>
<h2 id="Hadoop-VS-Databases"><a href="#Hadoop-VS-Databases" class="headerlink" title="Hadoop VS Databases"></a>Hadoop VS Databases</h2><blockquote>
<p>Apache Hadoop is not a database storage or relational storage, its main competency is to process data in a distributed fashion. It does have a storage component called HDFS (Hadoop Distributed File System) which stoes files used for processing but HDFS does not qualify as a relational database, it is just a storage model.</p>
</blockquote>
<blockquote>
<p>There are components like Hive which can work on top of HDFS and which allows users to query the HDFS storage using SQL like queries using HiveQL but that is just SQL like queries and does not make HDFS or Apcahe Hadoop a database or relational database.</p>
</blockquote>
<p>Thus, Hadoop is not a database even though it has a storage system HDFS. But can Hadoop replace the existing database? The answer is uncertain.</p>
<p>Firstly, schema is supported by relational database. Schema has its own advantages like it defines the contract of data format and it decouples the logical from physical. Moreover, with schema, there is no need to parse the data to get related fields. </p>
<p>Secondly, column stores are good. Compared to the row stores, a column store has advantages like:</p>
<ul>
<li><code>Read efficiency</code>: Usually only few columns will be selected for a query</li>
<li><code>Better compression</code>: Data under same column will have the same data type.</li>
<li><code>Vectorized processing</code><blockquote>
<p>SIMD(Single Instruction Multiple Data)即单指令流多数据流，是一种采用一个控制器来控制多个处理器，同时对一组数据（又称“数据向量”）中的每一个分别执行相同的操作从而实现空间上的并行性的技术。简单来说就是一个指令能够同时处理多个数据。</p>
</blockquote>
</li>
<li><code>Opportunities to operate directly on compressed data</code></li>
</ul>
<h2 id="HadoopDB"><a href="#HadoopDB" class="headerlink" title="HadoopDB"></a>HadoopDB</h2><p>HadoopDB is an idea where co-locate a RDBMS on every slave node.</p>
<h2 id="Hive"><a href="#Hive" class="headerlink" title="Hive"></a>Hive</h2><ul>
<li><code>Thrift</code>: To support schema on Hadoop</li>
<li><code>HDFS Block</code>: In each HDFS block, RCFile organizes the records with the basic unit of a row group. </li>
<li><code>User Defined Functions (UDF)</code>: Provide index</li>
</ul>
<h2 id="YARN-Yet-Another-Resource-Negotiator"><a href="#YARN-Yet-Another-Resource-Negotiator" class="headerlink" title="YARN - Yet Another Resource Negotiator"></a>YARN - Yet Another Resource Negotiator</h2><p>Yarn provides resource management and a central platform to deliver consistent operations, security and data governance tools across Hadoop clusters.</p>
<blockquote>
<p>By separating resource management functions from the programming model, YARN delegates many scheduling-related functions to per-job components.</p>
</blockquote>
<h2 id="Dryad-Graph-Operators"><a href="#Dryad-Graph-Operators" class="headerlink" title="Dryad - Graph Operators"></a>Dryad - Graph Operators</h2><p>Dryad is a general-purpose distributed execution engine for coarse-grain data-parallel applications. </p>
<h2 id="Spark"><a href="#Spark" class="headerlink" title="Spark"></a>Spark</h2><p>There are two problems with MapReduce:</p>
<ul>
<li>Programming language is Java</li>
<li>Each MapReduce job will be written into disk, the shuffle is a bottleneck</li>
</ul>
<p>Spark is a solution that extends the MapReduce.</p>
<h2 id="Presto"><a href="#Presto" class="headerlink" title="Presto"></a>Presto</h2><p>There are three roles in the Presto query execution:</p>
<ul>
<li><code>Coordinator</code>: analyze and schedule</li>
<li><code>Discovery</code>: heartbeat and role managements</li>
<li><code>Worker</code>: execute</li>
</ul>
<p>The query sent by the presto-cli is a HTTP POST request, and it will be sent to the coordinator. In side the coordinator, the query will be parsed to an Abstract Syntax Tree (AST), then analyzer will convert it to the logical query plan &amp; distributed query plan, the optimizer will make it as optimized query plan, and sent to execution planner.</p>
<blockquote>
<p>抽象语法树树，描述的最原始的用户需求。抽象语法树描述的信息，执行效率上不是最优，执行操作也过于复杂。需要把抽象语法树转化成执行计划。执行计划分成两类，一类是逻辑执行计划，一类是物理执行计划。逻辑执行计划，以树状结构来描述执行，每个节点是最简单的操作。物理执行计划，根据逻辑执行计划生成字节码，交由驱动执行。</p>
</blockquote>
<br/>
<br/>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://examples.javacodegeeks.com/enterprise-java/apache-hadoop/is-hadoop-a-database/" target="_blank" rel="noopener">Is Hadoop a database</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/55108455" target="_blank" rel="noopener">深入浅出Hadoop YARN</a></li>
<li><a href="https://chu888chu888.gitbooks.io/hadoopstudy/content/Content/8/chapter8.html" target="_blank" rel="noopener">第八章 Hive的安装与数据导入导出</a></li>
<li><a href="https://chu888chu888.gitbooks.io/hadoopstudy/content/Content/3/chapter0301.html" target="_blank" rel="noopener">Hadoop的一些基本概念</a></li>
<li><a href="https://tech.meituan.com/2014/06/16/presto.html" target="_blank" rel="noopener">Presto实现原理和美团的使用实践</a></li>
<li><a href="https://blog.csdn.net/sjtuyunlei/article/details/79382979" target="_blank" rel="noopener">深入理解Presto(2) ：Presto查询执行过程</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shimingwu.github.io/2020/11/09/BigData-5/" data-id="cki7gopew000pzprv103g4e8s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Big-Data/" rel="tag">Big Data</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-BigData-3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/09/BigData-3/" class="article-date">
  <time datetime="2020-11-09T14:24:09.000Z" itemprop="datePublished">2020-11-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/09/BigData-3/">BigData(3)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This is revision note for NUS master study of CS5425 Big Data Systems for Data Science.</p>
<h2 id="Relational-Database"><a href="#Relational-Database" class="headerlink" title="Relational Database"></a>Relational Database</h2><p>Usually, Hadoop/MapReduce is used to support the OLAP.</p>
<h3 id="Relational-Algebra"><a href="#Relational-Algebra" class="headerlink" title="Relational Algebra"></a>Relational Algebra</h3><p>Considering the table <code>Employee</code>. All examples will use the table.</p>
<p><strong>Projection Π</strong></p>
<table>
<tr><th> Employee </th><th> Π NAME, AGE (Employee) </th></tr>
<tr><td>

<table>
<thead>
<tr>
<th align="left">ID</th>
<th align="center">NAME</th>
<th align="left">AGE</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="center">Mike</td>
<td align="left">12</td>
</tr>
<tr>
<td align="left">2</td>
<td align="center">Jane</td>
<td align="left">22</td>
</tr>
<tr>
<td align="left">3</td>
<td align="center">Vincent</td>
<td align="left">45</td>
</tr>
</tbody></table>
</td><td>

<table>
<thead>
<tr>
<th align="center">NAME</th>
<th align="left">AGE</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Mike</td>
<td align="left">12</td>
</tr>
<tr>
<td align="center">Jane</td>
<td align="left">22</td>
</tr>
<tr>
<td align="center">Vincent</td>
<td align="left">45</td>
</tr>
</tbody></table>
</td></tr> </table>

<p>To perform projection, only mapper is used. The bottleneck is the streaming read speed of HDFS.</p>
<p><strong>Selection σ</strong></p>
<table>
<tr><th> Employee </th><th> σ ID = 1 (Employee) </th></tr>
<tr><td>

<table>
<thead>
<tr>
<th align="left">ID</th>
<th align="center">NAME</th>
<th align="left">AGE</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="center">Mike</td>
<td align="left">12</td>
</tr>
<tr>
<td align="left">2</td>
<td align="center">Jane</td>
<td align="left">22</td>
</tr>
<tr>
<td align="left">3</td>
<td align="center">Vincent</td>
<td align="left">45</td>
</tr>
</tbody></table>
</td><td>

<table>
<thead>
<tr>
<th align="left">ID</th>
<th align="center">NAME</th>
<th align="left">AGE</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="center">Mike</td>
<td align="left">12</td>
</tr>
</tbody></table>
</td></tr> </table>

<p>To perform projection, only mapper is used. The bottleneck is the streaming read speed of HDFS. Selection is very similar to Projection in general.</p>
<p><strong>Group By (Aggregation)</strong></p>
<p>This can be done via mapper + reducer. In addition, combiner can be used to optimize the performance. </p>
<p><strong>Order By</strong></p>
<p>There are two sort problems here: Sort by <strong>Key</strong> and Sort by <strong>Value</strong>.</p>
<p>In terms of sort by key, MapReduce (Hadoop) guarantees the order of keys are sorted before sending to the reducers. If a tuple only has a single column, for example, {‘Apple’, 1}, then the sort is very simple.</p>
<p>However, what if there are multiple columns exist for a tuple, for example, {‘Apple’, ‘2020-10-2’, 1}. If we want to sort by the fruit name, followed by the sort of date, there are 2 main approaches:</p>
<ul>
<li><code>Sort inside Reducer (BAD)</code></li>
<li><code>Value-to-Key (BETTER)</code></li>
</ul>
<blockquote>
<p>For the first approach, it involves having the reducer buffer all of the values for a given key and do an in-reducer sort. Since the reducer will be receiving all values for a given key, this approach could possibly cause the reducer to run out of memory. </p>
</blockquote>
<table>
<tr>
  <th> Map </th>
  <th> Shuffle and Sort (by the key) </th>
  <th> Reduce </th>
</tr>
<tr>

<td>

<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="center">Value 1</th>
<th align="left">Value 2</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Apple</td>
<td align="center">‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="left">Banana</td>
<td align="center">‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="left">Orange</td>
<td align="center">‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="left">Apple</td>
<td align="center">‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="left">Apple</td>
<td align="center">‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="left">Banana</td>
<td align="center">‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="left">Orange</td>
<td align="center">‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="left">Apple</td>
<td align="center">‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="left"></td></td>
<td align="center"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><td></td>
<td align="center"></td>
<td align="left"></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="center">Values under the key</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Apple</td>
<td align="center">(‘2020-10-2’, 10)<br/> <strong>(‘2020-10-5’, 20)</strong><br/> <strong>(‘2020-10-2’, 10)</strong><br/> (‘2020-10-5’, 20)</td>
</tr>
<tr>
<td align="left">Banana</td>
<td align="center">(‘2020-10-5’, 20)<br/> (‘2020-10-5’, 20)</td>
</tr>
<tr>
<td align="left">Orange</td>
<td align="center">(‘2020-10-2’, 10)<br/> (‘2020-10-2’, 10)</td>
</tr>
</tbody></table>
</td>
<td>

<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="center">Values under the key</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Apple</td>
<td align="center">(‘2020-10-2’, 10)<br/>  <strong>(‘2020-10-2’, 10)</strong><br/> <strong>(‘2020-10-5’, 20)</strong><br/>(‘2020-10-5’, 20)</td>
</tr>
<tr>
<td align="left">Banana</td>
<td align="center">(‘2020-10-5’, 20)<br/> (‘2020-10-5’, 20)</td>
</tr>
<tr>
<td align="left">Orange</td>
<td align="center">(‘2020-10-2’, 10)<br/> (‘2020-10-2’, 10)</td>
</tr>
<tr>
<td align="left"></td></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"></tr></td>
<td align="center"></td>
</tr>
</tbody></table>
</table>

<blockquote>
<p>The second approach involves creating a composite key by adding a part of, or the entire value to the natural key to achieve your sorting objectives. </p>
</blockquote>
<table>
<tr>
  <th> Map </th>
  <th> Shuffle/Partition </th>
  <th> Sort </th>
</tr>
<tr>

<td>

<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="center">Value 1</th>
<th align="left">Value 2</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Apple</td>
<td align="center">‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="left">Banana</td>
<td align="center">‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="left">Orange</td>
<td align="center">‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="left">Apple</td>
<td align="center">‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="left">Apple</td>
<td align="center">‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="left">Banana</td>
<td align="center">‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="left">Orange</td>
<td align="center">‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="left">Apple</td>
<td align="center">‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="left"></td></td>
<td align="center"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><td></td>
<td align="center"></td>
<td align="left"></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">Key</th>
<th align="left">Value 2</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Apple, ‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="center">Apple,<strong>‘2020-10-5’</strong></td>
<td align="left">20</td>
</tr>
<tr>
<td align="center">Apple, <strong>‘2020-10-2’</strong></td>
<td align="left">10</td>
</tr>
<tr>
<td align="center">Apple, ‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="center">Banana, ‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="center">Banana, ‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="center">Orange, ‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="center">Orange, ‘2020-10-2’</td>
<td align="left">10</td>
</tr>
</tbody></table>
</td>
<td>

<table>
<thead>
<tr>
<th align="center">Key</th>
<th align="left">Value 2</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Apple, ‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="center">Apple, <strong>‘2020-10-2’</strong></td>
<td align="left">20</td>
</tr>
<tr>
<td align="center">Apple, <strong>‘2020-10-5’</strong></td>
<td align="left">10</td>
</tr>
<tr>
<td align="center">Apple, ‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="center">Banana, ‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="center">Banana, ‘2020-10-5’</td>
<td align="left">20</td>
</tr>
<tr>
<td align="center">Orange, ‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="center">Orange, ‘2020-10-2’</td>
<td align="left">10</td>
</tr>
<tr>
<td align="center"></td></td>
<td align="left"></td>
</tr>
<tr>
<td align="center"></tr></td>
<td align="left"></td>
</tr>
</tbody></table>
</table>

<p><strong>NATURAL JOIN (⋈)</strong></p>
<p>There are three approaches:</p>
<ul>
<li><code>Reduce-side Join</code></li>
<li><code>Map-side Join</code></li>
<li><code>In memory Join</code></li>
</ul>
<p><strong>Reduce-side Join</strong></p>
<p>When a join is performed by the reducer, it is called as reduce-side join. For this method, the main thing done on the map stage is put a <code>tag</code> to the files. For example:</p>
<img src="/2020/11/09/BigData-3/reduce_side_join_example.png" class="" title="Example">

<p>Another illustration is taken from Guru99.</p>
<img src="/2020/11/09/BigData-3/reduce_side_join_from_guru99.png" class="" title="Example">

<p>In general, this method will work for 1-to-1 join. However, for 1-to-many or many-to-many, it might have a potential problem with memory. To solve the problem, there are two keys:</p>
<ul>
<li><code>Save the data into memory, if the memory is not enough, write to disk</code></li>
<li><code>Value-to-Key conversion</code></li>
</ul>
<p><strong>Map-side Join</strong></p>
<p>No reducer is required. </p>
<blockquote>
<p>Suppose we have two datasets that are both sorted by the join key. We can perform a join by scanning through both datasets simultaneously. This is known as a merge join in the database community. We can parallelize this by partitioning and sorting both datasets in the same way. </p>
</blockquote>
<p><strong>In memory Join</strong></p>
<p>Load one dataset into memory, stream over other dataset.</p>
<p>In general, <code>in-memory join</code> &gt; <code>map-side join</code> &gt; <code>reduce-side join</code>.</p>
<p>Best choice: when the data is smaller than main memory, prefers in-memory join. If in-memory join is not possible, yet, the file is partitioned according to the key, uses map-side join. Otherwise, use reduce-side join. </p>
<br/>
<br/>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://www.guru99.com/relational-algebra-dbms.html" target="_blank" rel="noopener">Relational Algebra in DBMS: Operations with Examples</a>  </li>
<li><a href="https://www.guru99.com/introduction-to-counters-joins-in-map-reduce.html" target="_blank" rel="noopener">Hadoop MapReduce Join &amp; Counter with Example</a>  </li>
<li><a href="https://blog.csdn.net/sofuzi/article/details/81265402" target="_blank" rel="noopener">MapReduce：实现join的几种方法</a>  </li>
<li><a href="http://shzhangji.com/cnblogs/2015/01/13/understand-reduce-side-join/" target="_blank" rel="noopener">深入理解 Reduce-side Join</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shimingwu.github.io/2020/11/09/BigData-3/" data-id="cki7gopet000lzprvdn1h4jld" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Big-Data/" rel="tag">Big Data</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-BigData-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/08/BigData-2/" class="article-date">
  <time datetime="2020-11-08T22:10:26.000Z" itemprop="datePublished">2020-11-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/08/BigData-2/">BigData(2)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This is revision note for NUS master study of CS5425 Big Data Systems for Data Science.</p>
<h2 id="Challenges"><a href="#Challenges" class="headerlink" title="Challenges"></a>Challenges</h2><p>In order to process the huge amount of data, parallelization is required. However, there are multiple challenge faced is the execution of the parallelization. For example, it is difficult to manage the communication between workers. One typical example can be the detection of a failed worker. It is hard to determine if a works is slow (takes longer to response) or it is failed. Moreover, there will have conflicts for resources access for different tasks. Even if there are multiple solutions like lock, conditional variables, etc, some other problems still exist.</p>
<p>It is a factor that there are many solutions provided, whilst these solutions do not fit as a big data solution. For example, programmers still need to handle the locks and take care of some performance optimizations. </p>
<h2 id="MapReduce"><a href="#MapReduce" class="headerlink" title="MapReduce"></a>MapReduce</h2><p>With the challenges, MapReduce was proposed as <strong>one of the solutions</strong> (a programming framework) to solve the massive data problem. Google has implemented MapReduce in C++, Java and Python.</p>
<img src="/2020/11/08/BigData-2/MapReduce.png" class="" title="illusion of MapReduce">

<p>Divide and conquer is the concept working behind. The tasks are distributed into different mappers and the tasks will be executed <strong>in parallel</strong>. However, the shuffle and sort becomes the bottleneck of the performance of the system because the moving of data is very costly. Last, the results will be sent to reducer for the aggregation, and the number of reducers can be another problem.</p>
<p>Besides the three steps mentioned:</p>
<ul>
<li><code>Map</code></li>
<li><code>Shuffle and sort</code></li>
<li><code>Reduce</code></li>
</ul>
<p>Two more steps can be done: <code>combine</code> and <code>partition</code>. These two steps are serving as an optimization.</p>
<ul>
<li><p><code>Combine</code>: The combine function will be done in <strong>memory</strong>. This is to reduce the amount of data to be transferred via network. For example, if we have multiple key-value pairs: {a:1}, {b:2}, {a:3}, {c:4}. There are total 4 pairs will be sent to the next step from current worker. A combine function can helps to combine the results to {a:4}, {b:2}, {c:4} if the method of combining is addition. The number of pairs to be sent will be decreased from 4 to 3. The combine function can happen at different levels after a mapper task is completed.</p>
</li>
<li><p><code>Partition</code>: The partition function influence how the shuffle and sort works. A partition function can divide/split the mapper results and based on key, value or the number of reducers to distribute the results. </p>
</li>
</ul>
<h2 id="Hadoop"><a href="#Hadoop" class="headerlink" title="Hadoop"></a>Hadoop</h2><p>As is known, MapReduce is a programming model and an associated implementation. Hadoop is an open-sourced version of MapReduce implementation in Java. </p>
<p>There are two important parts in Hadoop:</p>
<ul>
<li><code>HDFS</code></li>
<li><code>MapReduce</code></li>
</ul>
<p><code>HDFS</code> is a distributed file system and it is an open-sourced version of <code>GFS</code> (Google File System). GFS is the file system invested and used by Google to support a huge data processing and it has many advantages. As an open-sourced version (or clone) of the GFS, HDFS does not follow certain design decisions made by GFS. </p>
<p>The architecture of HDFS is shown below.</p>
<img src="/2020/11/08/BigData-2/HDFSArchitecture.png" class="" title="HDFS Architecture">

<blockquote>
<p>HDFS has a master/slave architecture. An HDFS cluster consists of a single NameNode, a master server that manages the file system namespace and regulates access to files by clients. In addition, there are a number of DataNodes, usually one per node in the cluster, which manage storage attached to the nodes that they run on. HDFS exposes a file system namespace and allows user data to be stored in files. Internally, a file is split into one or more blocks and these blocks are stored in a set of DataNodes. The NameNode executes file system namespace operations like opening, closing, and renaming files and directories. It also determines the mapping of blocks to DataNodes. The DataNodes are responsible for serving read and write requests from the file system’s clients. The DataNodes also perform block creation, deletion, and replication upon instruction from the NameNode.</p>
</blockquote>
<p>Notice that HDFS is still a <strong>master-slave architecture</strong>.</p>
<h2 id="Basic-Algorithm-design-with-MapReduce"><a href="#Basic-Algorithm-design-with-MapReduce" class="headerlink" title="Basic Algorithm design with MapReduce"></a>Basic Algorithm design with MapReduce</h2><p>As MapReduce provides a high abstraction and many implementation details are hidden like we do not know where the mappers/reducers are running, when a particular mapper/reducers starts or finishes, there are only 4 places to implement an algorithm:</p>
<ul>
<li><code>map</code></li>
<li><code>reduce</code></li>
<li><code>combiner</code></li>
<li><code>partitioner</code></li>
</ul>
<p>Some concerns should be taken into considerations. For example, for partial results, we might not want to emit partial results immediately in certain cases, as this might result in more traffic over network and slow down the processing. Three things are important for the performance for an algorithm design for MapReduce:</p>
<ul>
<li><code>Linear scalability</code></li>
<li><code>Minimize I/O for both hard disk and network</code></li>
<li><code>Memory</code></li>
</ul>
<h3 id="Linear-Scalability"><a href="#Linear-Scalability" class="headerlink" title="Linear Scalability"></a>Linear Scalability</h3><p>With the increase of the data size, the cost of communication will increase. As the <strong>input to every reducer is guaranteed to be sorted</strong> in MapReducer, there is a process to sort and transfer the results provided by mapper to the reducers, which is known as shuffle and it is a synchronization operation. The synchronous operation will make a significant impact on the overall performance. </p>
<p>To avoid this, there are two main methods:</p>
<ul>
<li><p><code>Local aggregation</code></p>
<p>A result can be aggregated during the map task. This is also known as <code>in-mapper combing</code> pattern.</p>
</li>
<li><p><code>Combiner</code></p>
<p>Use combiner to reduce the network traffic</p>
</li>
</ul>
<p>For <code>Local aggregation</code>, it is usually faster than actual <code>combiner</code> because it does not need to spill to the disk. However, a higher memory is requested. Moreover, implementation complexity might increase.</p>
<br/>
<br/>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://cloud.tencent.com/developer/article/1030329" target="_blank" rel="noopener">简单解释 MapReduce 算法</a>  </li>
<li><a href="https://hadoop.apache.org/docs/r1.2.1/hdfs_design.html" target="_blank" rel="noopener">HDFS Architecture Guide</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shimingwu.github.io/2020/11/08/BigData-2/" data-id="cki7goper000jzprv982v8plo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Big-Data/" rel="tag">Big Data</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-BigData-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/08/BigData-1/" class="article-date">
  <time datetime="2020-11-08T16:50:13.000Z" itemprop="datePublished">2020-11-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/08/BigData-1/">BigData(1)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This is revision note for NUS master study of CS5425 Big Data Systems for Data Science.</p>
<h2 id="5V-for-big-data"><a href="#5V-for-big-data" class="headerlink" title="5V for big data"></a>5V for big data</h2><ul>
<li><code>Volume</code>: The size/scale of data</li>
<li><code>Velocity</code>: The speed of input of data (like data streaming)</li>
<li><code>Variety</code>: The different structures of data. For example, images, articles…</li>
<li><code>Veracity</code>: The quality of data. </li>
<li><code>Value</code>: The value brought by the data</li>
</ul>
<p>Nowadays, the frequent network activities result in a huge amount of data (Volume). To process these data, big data technology is required. Furthermore, the speed to process data is important (Velocity). For example, if we cannot analyze the data obtained within certain period of time, the value of data will be lost (Value), like detecting the system error in transport system of a city. Besides, there are multiple types of data are generated (Variety). Lastly, even if the data can be processed in a huge volume fast, the quality of both data and results should be taken care of (Veracity).</p>
<h2 id="Infrastructure-of-big-data"><a href="#Infrastructure-of-big-data" class="headerlink" title="Infrastructure of big data"></a>Infrastructure of big data</h2><ul>
<li><code>Cloud Computing</code></li>
<li><code>Data Center</code></li>
</ul>
<p>Cloud computing serves as an infrastructure to support the big data processing and calculation. There are three main serves provided by the cloud computing:</p>
<ul>
<li><code>IaaS</code>: Infrastructure as a Service. With this, the operation cost can be saved.</li>
<li><code>PaaS</code>: Platform as a Service. Users can configure certain platforms like databases.</li>
<li><code>SaaS</code>: Software as a Service. Users can directly consume the software like Gmail.</li>
</ul>
<p>With these, everything can be provided as a service and it helps to save cost, provide ‘infintie’ calculating/storage capacity to users and users  can utilize these on demand. At the same, Cloud Computing also contributes a lot in terms of data generating. Thus, it is a data provider, at the same time, also a solution provider.</p>
<p>Data center serves as a key infrastructure of cloud computing. A data center mainly has three blocks:</p>
<ul>
<li><code>blade server</code>: refer to a normal server</li>
<li><code>rack</code>: a rack consists of dozens of servers</li>
<li><code>data center</code>: a data center consists of many racks</li>
</ul>
<p>The transfer of data is expensive especially when a data needs to be sent across the network.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shimingwu.github.io/2020/11/08/BigData-1/" data-id="cki7gopeq000hzprvhclfe6gt" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Big-Data/" rel="tag">Big Data</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-LeetCode-Largest-Number" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/26/LeetCode-Largest-Number/" class="article-date">
  <time datetime="2020-09-26T12:29:08.000Z" itemprop="datePublished">2020-09-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/26/LeetCode-Largest-Number/">LeetCode Largest Number</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a><a href="https://leetcode.com/problems/largest-number/submissions/" target="_blank" rel="noopener">Question</a></h2><p>Given a list of non negative integers, arrange them such that they form the largest number.</p>
<p><b>Example 1:</b></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [10,2]</span><br><span class="line">Output: &quot;210&quot;</span><br></pre></td></tr></table></figure>
<p><b>Example 2:</b></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [3,30,34,5,9]</span><br><span class="line">Output: &quot;9534330&quot;</span><br></pre></td></tr></table></figure>

<h2 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution 1"></a>Solution 1</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">largestNumber</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> numStr []<span class="keyword">string</span>;</span><br><span class="line">     <span class="keyword">for</span> i:=<span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;            </span><br><span class="line">         numStr = <span class="built_in">append</span>(numStr, strconv.Itoa(nums[i]))</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> result []<span class="keyword">string</span>;</span><br><span class="line">    result = quickSort(numStr, <span class="number">0</span>, <span class="built_in">len</span>(numStr)<span class="number">-1</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> str <span class="keyword">string</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i:=<span class="built_in">len</span>(result)<span class="number">-1</span>; i &gt;=<span class="number">0</span>; i--&#123;</span><br><span class="line">        str += result[i]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> str[<span class="number">0</span>] == <span class="string">'0'</span> &#123;</span><br><span class="line">        str = <span class="string">"0"</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">quickSort</span><span class="params">(nums []<span class="keyword">string</span>, left <span class="keyword">int</span>, right <span class="keyword">int</span>)</span> []<span class="title">string</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> left &gt; right &#123;</span><br><span class="line">        <span class="keyword">return</span> nums</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    i := left</span><br><span class="line">    j := right</span><br><span class="line">    </span><br><span class="line">    pivot := nums[left]</span><br><span class="line">    <span class="keyword">for</span> i != j &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> compare(nums[j], pivot) &amp;&amp; i &lt; j &#123;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> compare(pivot, nums[i]) &amp;&amp; i &lt; j &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> i &lt; j &#123;</span><br><span class="line">            temp := nums[i];</span><br><span class="line">            nums[i] = nums[j]</span><br><span class="line">            nums[j] = temp</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    nums[left] = nums[i];</span><br><span class="line">    nums[i] = pivot;</span><br><span class="line">    </span><br><span class="line">    quickSort(nums, left, i<span class="number">-1</span>);</span><br><span class="line">    quickSort(nums, i+<span class="number">1</span>, right);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">compare</span><span class="params">(num1 <span class="keyword">string</span>, num2 <span class="keyword">string</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> num1 == num2 &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    len1 := <span class="built_in">len</span>(num1)</span><br><span class="line">    len2 := <span class="built_in">len</span>(num2)</span><br><span class="line">    </span><br><span class="line">    maxLen := len1*<span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> len2 &gt; len1 &#123;</span><br><span class="line">        maxLen = len2*<span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span> ; i &lt; maxLen; i++ &#123;</span><br><span class="line">        num1Digit := num1[i % len1]</span><br><span class="line">        num2Digit := num2[i % len2]</span><br><span class="line">        <span class="keyword">if</span> num1Digit &gt; num2Digit &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> num1Digit &lt; num2Digit &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="Solution-2"><a href="#Solution-2" class="headerlink" title="Solution 2"></a>Solution 2</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pow10 = [<span class="number">10</span>]<span class="keyword">int</span> &#123;<span class="number">1</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">1000</span>, <span class="number">10000</span>, <span class="number">100000</span>, <span class="number">1000000</span>, <span class="number">10000000</span>, <span class="number">100000000</span>, <span class="number">1000000000</span>&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">largestNumber</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> result []<span class="keyword">int</span>;</span><br><span class="line">    result = quickSort(nums, <span class="number">0</span>, <span class="built_in">len</span>(nums)<span class="number">-1</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> str <span class="keyword">string</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i:=<span class="built_in">len</span>(result)<span class="number">-1</span>; i &gt;=<span class="number">0</span>; i--&#123;</span><br><span class="line">        str += strconv.Itoa(result[i])</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> str[<span class="number">0</span>] == <span class="string">'0'</span> &#123;</span><br><span class="line">        str = <span class="string">"0"</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">quickSort</span><span class="params">(nums []<span class="keyword">int</span>, left <span class="keyword">int</span>, right <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> left &gt; right &#123;</span><br><span class="line">        <span class="keyword">return</span> nums</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    i := left</span><br><span class="line">    j := right</span><br><span class="line">    </span><br><span class="line">    pivot := nums[left]</span><br><span class="line">    <span class="keyword">for</span> i != j &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> compare(nums[j], pivot) &amp;&amp; i &lt; j &#123;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> compare(pivot, nums[i]) &amp;&amp; i &lt; j &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> i &lt; j &#123;</span><br><span class="line">            temp := nums[i];</span><br><span class="line">            nums[i] = nums[j]</span><br><span class="line">            nums[j] = temp</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    nums[left] = nums[i];</span><br><span class="line">    nums[i] = pivot;</span><br><span class="line">    </span><br><span class="line">    quickSort(nums, left, i<span class="number">-1</span>);</span><br><span class="line">    quickSort(nums, i+<span class="number">1</span>, right);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">compare</span><span class="params">(num1 <span class="keyword">int</span>, num2 <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> num1 == num2 &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    len1 := <span class="built_in">len</span>(strconv.Itoa(num1))</span><br><span class="line">    len2 := <span class="built_in">len</span>(strconv.Itoa(num2))</span><br><span class="line">    </span><br><span class="line">    maxLen := len1*<span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> len2 &gt; len1 &#123;</span><br><span class="line">        maxLen = len2*<span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span> ; i &lt; maxLen; i++ &#123;</span><br><span class="line">        </span><br><span class="line">        num1Digit := num1 / pow10[len1 - (i % len1 + <span class="number">1</span>)] % <span class="number">10</span></span><br><span class="line">        num2Digit := num2 / pow10[len2 - (i % len2 + <span class="number">1</span>)] % <span class="number">10</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> num1Digit &gt; num2Digit &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> num1Digit &lt; num2Digit &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://shimingwu.github.io/2020/09/26/LeetCode-Largest-Number/" data-id="cki7gopfd001jzprv3viibotz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/" rel="tag">Algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-LeetCode-Majority-Element-II" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/22/LeetCode-Majority-Element-II/" class="article-date">
  <time datetime="2020-09-22T22:26:41.000Z" itemprop="datePublished">2020-09-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/09/22/LeetCode-Majority-Element-II/">LeetCode(229) Majority Element II</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a><a href="https://leetcode.com/problems/majority-element-ii/" target="_blank" rel="noopener">Question</a></h2><p>Given an integer array of size n, find all elements that appear more than ⌊ n/3 ⌋ times.</p>
<p>Note: The algorithm should run in linear time and in O(1) space.</p>
<p><b>Example 1:</b></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [3,2,3]</span><br><span class="line">Output: [3]</span><br></pre></td></tr></table></figure>
<p><b>Example 2:</b></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,1,1,3,3,2,2,2]</span><br><span class="line">Output: [1,2]</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>The solution for this problem relies on one observation, which is that, for any array, <strong>there will have at most 2 elements that occurs more than ⌊ n/3 ⌋ times.</strong> After knowing this, we shall be able to achieve the O(1) space as we only rely on 4 variables here.</p>
<p>Fisrtly, we require 2 sets of (element, count) as we would like to find the top 2 majority element.</p>
<p>Secondly, it is known that, if an element is a majority element, the count CANNOT be 0.<br>For example, if we have an array of size 10 <code>[1, 1, 1, 1, 2, 3, 4, 5, 6, 7]</code>, to be a majority element, it must occurs 4 times. We will have, for first pair of (element, count), we can have (1, 4), and second element it will be used to allocate another 1/3 of elements. In this case, the element 1 will be always having more than 0 counts.</p>
<p>If there are 2 majority elements, the logic still apply. We will have 2 paris to allocate the count, only left with at most 3 elements to be reduced. Therefore, both counts won’t be 0, which implies that the candidates will not be replaced.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">majorityElement</span><span class="params">(nums []<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">     <span class="keyword">var</span> results []<span class="keyword">int</span>;</span><br><span class="line">    <span class="keyword">var</span> count1 <span class="keyword">int</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> count2 <span class="keyword">int</span> = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">0</span> || nums == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> results</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> candidate1 <span class="keyword">int</span> = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> candidate2 <span class="keyword">int</span> = nums[<span class="number">0</span>];</span><br><span class="line">  </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> candidate1 == nums[i] &#123;</span><br><span class="line">            count1++</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> candidate2 == nums[i] &#123;</span><br><span class="line">            count2++</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> count1 == <span class="number">0</span> &#123;</span><br><span class="line">            candidate1 = nums[i]</span><br><span class="line">            count1++</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> count2 == <span class="number">0</span> &#123;</span><br><span class="line">            candidate2 = nums[i]</span><br><span class="line">            count2++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            count1--</span><br><span class="line">            count2--</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    count1 = <span class="number">0</span></span><br><span class="line">    count2 = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[i] == candidate1 &#123;</span><br><span class="line">            count1++</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> nums[i] == candidate2 &#123;</span><br><span class="line">            count2++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    limit := <span class="built_in">len</span>(nums)/<span class="number">3</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> limit != <span class="number">0</span> &#123;</span><br><span class="line">        limit += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> count1 &gt;= limit &#123;</span><br><span class="line">        results = <span class="built_in">append</span>(results, candidate1)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> count2 &gt;= limit &amp;&amp; candidate1 != candidate2 &#123;</span><br><span class="line">        results = <span class="built_in">append</span>(results, candidate2)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> results</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://shimingwu.github.io/2020/09/22/LeetCode-Majority-Element-II/" data-id="cki7gopfe001mzprv1q0260qz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/" rel="tag">Algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-关于Webpack" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/21/%E5%85%B3%E4%BA%8EWebpack/" class="article-date">
  <time datetime="2020-07-21T21:00:54.000Z" itemprop="datePublished">2020-07-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/21/%E5%85%B3%E4%BA%8EWebpack/">关于Webpack</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <br/>
<br/>
谁能想到两年前做的东西……两年后要重温一遍呢。并且随着合作过的程序员越来越多，有意识到蛮多同事（甚至是专职写前端的程序员）往往根本没有机会去设置webpack，对这个打包工具的概念一知半解，就干脆把一些简单的概念总结一下（当然官网上写的非常好，个人很推荐感兴趣的同学直接阅读官网），并且提供一些小练习来加深理解。

<h2 id="1-什么是Webpack"><a href="#1-什么是Webpack" class="headerlink" title="1. 什么是Webpack"></a>1. 什么是Webpack</h2><p>简单来说，webpack是一个<u>静态模块打包工具</u>。它的主要概念就是将多个JavaScript，css，image等不同的任何类型的文件捆绑在一起。它会分析这些文件之间的依赖关系，比如什么文件import（导入）了什么文件，并且在内部生成一个dependency graph（依赖图），从而生成一个或者多个bundle（捆绑）文件。<br>但webpack又不仅仅只是一个捆绑工具，它同时也可以帮忙处理优化文件，如manifest；也可以使用loader去进行一些转义工作，使得不同类型的文件可以被捆绑；还可以使用plugin去进行environment variable injection等操作。但所有这些处理的最终目的都是为了将不同的文件处理成适合的浏览器可以接受的格式并且打包。</p>
<br/>
<br/>

<h2 id="2-Webpack如何工作"><a href="#2-Webpack如何工作" class="headerlink" title="2. Webpack如何工作"></a>2. Webpack如何工作</h2><p>我们知道webpack会将多个文件进行分析并且打包，那么它是如何做到的呢？首先，webpack需要一个entry point（入口起点），没有这个起点，webpack就无法构建内部依赖图。这可以通过配置 <code>entry</code> 选项来指定：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./src/app.js'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>当然，我们也可以指定多个起点来告诉webpack我们需要多个<b>独立的</b>依赖图，这种情况往往应用于多页面应用，每次从服务器获取新的HTML页面的时候，页面就会重新加载资源，不同的页面可能需要不同的打包文件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        main: <span class="string">'./src/main/app.js'</span>,</span><br><span class="line">        payment: <span class="string">'./src/paymeng/app.js'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>再说明完了webpack如何<b>找到入口开始分析</b>后，我们通过可以配置 <code>output</code> （输出）选项来指定webpack我们希望它生成的文件名:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">        path: __dirname + <span class="string">'/dist'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>根据以上的配置，webpack将会把文件打包并命名成 <code>bundle.js</code> 然后写入 <code>./dist</code> 目录。</p>
<blockquote>
<p>即使可以存在多个 <code>entry</code> 起点，但只能指定一个 <code>output</code> 配置。</p>
</blockquote>
<p>在了解了webpack如何<b>开始</b>以及<b>结束</b>了之后，我们可以开始更多的了解一下它的中间流程是怎么样的了。首先让我们理解一下两个概念：</p>
<ul>
<li><b>Loader</b>：Loader用于对模块的代码进行转换。</li>
<li><b>Plugin</b>：Plugin用于解决所有loader无法解决的问题。<br/>

</li>
</ul>
<p>打个比方，在使用React的时候，我们常常遇到一些需要对某些组件进行CSS的调整，这种情况下，我们该如何链接该JS文件与CSS文件呢？我们可以使用“css-loader”来解决：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: <span class="string">'css-loader'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>这个情况下，webpack就会知道，<b>使用 <code>css-loader</code> 来加载所有 <code>.css</code> 文件</b>。</p>
<blockquote>
<p>loader的使用有三种方式：通过配置<code>webpack.config.js</code>，通过在<code>import</code>语句中显式指定<code>loader</code>又或者在<code>shell</code>命令中指定。但通常我们会选择使用配置。</p>
</blockquote>
<p>另外，Webpack的loader都是per-file based的。即所有的 <code>.css</code> 文件都会被 <code>css-loader</code> 转换。另外我们还可以指定<b>多个loader</b>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">'style-loader'</span> &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'css-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              modules: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">'sass-loader'</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>以上为官方的例子，我们可以理解为，<b>以下至上</b>，所有的 <code>.css</code> 文件都会首先被 <code>sass-loader</code> 转换，接着被 <code>css-loader</code> 转换，最后被 <code>style-loader</code> 转换。</p>
<p>与 <code>loader</code> 相反， <code>plugin</code> 是对<b>连接生成的文件</b>进行处理。即它会全局式地对所有已经被 <code>loader</code> 处理完的文件再次进行优化。</p>
<br/>
<br/>

<h2 id="3-练习：从零开始使用webpack去设置React应用"><a href="#3-练习：从零开始使用webpack去设置React应用" class="headerlink" title="3. 练习：从零开始使用webpack去设置React应用"></a>3. 练习：从零开始使用webpack去设置React应用</h2><p>练习的时候可以参考这个代码来看是否哪里设置错误：<a href="https://github.com/shimingwu/webpack-demo-tutorial" target="_blank" rel="noopener">https://github.com/shimingwu/webpack-demo-tutorial</a></p>
<p>首先，创建一个本地文件夹 <code>webpack-demo</code>，使用npm进行管理，生成 <code>package.json</code> 来进行项目包的依赖管理。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>
<p>生成的文件如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"webpack-demo"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"shiming"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>安装webpack。当然通常我们也需要安装 <code>webpack-dev-server</code> 和 <code>webpack-cli</code> 用来跑本地的项目。另外安装在 <code>devDependecies</code> 的主要原因是我们并不需要把我们的项目发布，所以并没有生产环境下面需要的依赖项。即，如果放在 <code>Dependencies</code> 下面，当我们发布我们的项目的时候，依赖项会被一起打包加载。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack webpack-dev-server webpack-cli</span><br></pre></td></tr></table></figure>
<p>安装完成后，我们应该看到 <code>package.json</code> 被更新了：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">"devDependecies": &#123;</span><br><span class="line">    "webpack": "^4.44.1",</span><br><span class="line">    "webpack-dev-server": "^3.11.0",</span><br><span class="line">    "webpack-cli": "^3.11.0"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>并且我们会看到 <code>node_modules</code> 文件夹。</p>
<img src="/2020/07/21/%E5%85%B3%E4%BA%8EWebpack/node_modules_generated.PNG" class="">

<p>安装React相关的依赖，并创建一个简单的React App。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save react react-dom</span><br></pre></td></tr></table></figure>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"webpack-demo"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"shiming"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"webpack"</span>: <span class="string">"^4.44.1"</span>,</span><br><span class="line">    <span class="attr">"webpack-cli"</span>: <span class="string">"^3.3.12"</span>,</span><br><span class="line">    <span class="attr">"webpack-dev-server"</span>: <span class="string">"^3.11.0"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"react"</span>: <span class="string">"^16.13.1"</span>,</span><br><span class="line">    <span class="attr">"react-dom"</span>: <span class="string">"^16.13.1"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建 <code>src</code> 文件夹，创建 <code>index.html</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;1024, initial-scale&#x3D;1.0, shrink-to-fit&#x3D;no, maximum-scale&#x3D;1.0, user-scalable&#x3D;no&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;theme-color&quot; content&#x3D;&quot;#000000&quot;&gt;</span><br><span class="line">    &lt;title&gt;Webpack Demo&lt;&#x2F;title&gt;</span><br><span class="line">  &lt;&#x2F;head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>创建 <code>index.js</code>，该文件将作为webpack的entry：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span>;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;App /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>创建 <code>App.js</code>, 这就是我们的React App文件:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;h1&gt;Hello World&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">export default App;</span></span><br></pre></td></tr></table></figure>

<p>创建 <code>App.css</code>，用来修饰我们的H1 tag。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.red</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:red</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>更新我们的 <code>App.js</code>，使其使用我们新创建的css文件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./App.css'</span>; <span class="comment">//注意这里需要写完整名字，即写上.css，其他的js文件可以省略.js后缀，但是css文件不可以</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;h1 className=<span class="string">"red"</span>&gt;Hello World&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">export default App;</span></span><br></pre></td></tr></table></figure>

<p>这时候我们已经写好了我们的sample app，更新 <code>package.json</code> 里面的 <code>scripts</code>， 写一条 <code>start</code> 命令用于跑 <code>webpack-dev-server</code>：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"webpack-demo"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"webpack-dev-server"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"shiming"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"webpack"</span>: <span class="string">"^4.44.1"</span>,</span><br><span class="line">    <span class="attr">"webpack-cli"</span>: <span class="string">"^3.3.12"</span>,</span><br><span class="line">    <span class="attr">"webpack-dev-server"</span>: <span class="string">"^3.11.0"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"react"</span>: <span class="string">"^16.13.1"</span>,</span><br><span class="line">    <span class="attr">"react-dom"</span>: <span class="string">"^16.13.1"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>启动项目:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure>
<p>我们会看到错误提示：</p>
<img src="/2020/07/21/%E5%85%B3%E4%BA%8EWebpack/error01.PNG" class="">

<p>这是因为React使用的是JSX，而webpack并不知道什么是JSX，于是我们要开始配置我们的webpack了。创建 <code>webpack.config.js</code>，这就是webpack的配置文件。我们已经了解过，我们需要一个入口以及一个输出：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>); <span class="comment">// node-js</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">        filename: <span class="string">'bundle.js'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样我们就可以让webpack帮忙把打包后的文件输出到 <code>/dist</code> 目录。</p>
<p>那么为了使webpack理解我们的 <code>js</code> 文件夹，我们需要依赖于某些 <code>loader</code> 。这里可以使用 <code>babel loader</code>，<code>babel</code> 则是一个通用的JavaScript编译器，Babel可以将某些版本的JavaScript代码转换为向后兼容的JavaScript语法。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @babel/core babel-loader @babel/preset-env @babel/preset-react</span><br></pre></td></tr></table></figure>

<p>有了 <code>babel loader</code>，我们就可以开始配置webpack了。在 <code>module</code> 下面我们可以设置一个 <code>rule</code>，即：所有不在 <code>/node_modules</code> 目录下的 <code>.js</code> 文件都由 <code>babel-loader</code> 进行处理：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>); <span class="comment">// node-js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">        filename: <span class="string">'bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: <span class="string">"babel-loader"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是这样一来又有一个问题，即 <code>babel-loader</code> 也不清楚我们希望使用什么样的转换。所以创建 <code>.babelrc</code> 文件进行设置。<code>.babelrc</code> 即 <code>babel</code> 的配置文件。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"presets"</span>: [<span class="string">"@babel/preset-env"</span>, <span class="string">"@babel/preset-react"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在我们再跑一次 <code>start</code> 命令，我们会看到新的错误提示：</p>
<img src="/2020/07/21/%E5%85%B3%E4%BA%8EWebpack/error02.PNG" class="">

<p>这是因为webpack不知道该如何处理 <code>css</code> 文件，这里我们可以使用 <code>css-loader</code> 使得webpack知道如何处理 <code>css</code> 文件，使用 <code>style-loader</code> 使得webpack知道如何将 <code>css</code> 载入html文件。首先下载这两个loader:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev css-loader style-loader</span><br></pre></td></tr></table></figure>

<p>这时候更新我们的 <code>webpack.config.js</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>); <span class="comment">// node-js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">        filename: <span class="string">'bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: <span class="string">"babel-loader"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">"style-loader"</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;   </span><br><span class="line">                        loader: <span class="string">"css-loader"</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这时候我们就可以看到我们的文件被成功编译了。但是，当我们跑localhost的时候，会发现并没有东西呈现出来。这时候我们就需要配置webpack去把我们刚刚生成的 <code>bundle.js</code> 放进 <code>&lt;script&gt;</code> tag以HTML的形式呈现，我们可以使用 <code>html-webpack-plugin</code> 来告诉webpack我们希望加载的HTML是 <code>index.html</code> ，并且我们希望将我们的react应用挂载在 <code>&lt;body&gt;</code> 里面:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>); <span class="comment">// node-js</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    mode: <span class="string">'development'</span>,</span><br><span class="line">    entry: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">        filename: <span class="string">'bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: <span class="string">"babel-loader"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">"style-loader"</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;   </span><br><span class="line">                        loader: <span class="string">"css-loader"</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: __dirname + <span class="string">'/src/index.html'</span>,</span><br><span class="line">            filename: <span class="string">'index.html'</span>,</span><br><span class="line">            inject: <span class="string">'body'</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在跑一次 <code>npm start</code> 命令！恭喜！这时候一个简单的react应用就通过webpack生成了！</p>
<img src="/2020/07/21/%E5%85%B3%E4%BA%8EWebpack/success.PNG" class="">

<br/>
<br/>

<h2 id="4-参考资料"><a href="#4-参考资料" class="headerlink" title="4. 参考资料"></a>4. 参考资料</h2><ol>
<li><a href="https://webpack.docschina.org/concepts" target="_blank" rel="noopener">Webpack文档</a> </li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shimingwu.github.io/2020/07/21/%E5%85%B3%E4%BA%8EWebpack/" data-id="cki7gopg40030zprveemm0cox" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm/" rel="tag">Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Big-Data/" rel="tag">Big Data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Structure/" rel="tag">Data Structure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Distributed-Database/" rel="tag">Distributed Database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VueJs/" rel="tag">VueJs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%8F%E8%AE%AE/" rel="tag">协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%89%E5%85%A8%E6%80%A7/" rel="tag">安全性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%B6%E6%9E%84/" rel="tag">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Algorithm/" style="font-size: 12.5px;">Algorithm</a> <a href="/tags/Big-Data/" style="font-size: 17.5px;">Big Data</a> <a href="/tags/Data-Structure/" style="font-size: 20px;">Data Structure</a> <a href="/tags/Distributed-Database/" style="font-size: 20px;">Distributed Database</a> <a href="/tags/LeetCode/" style="font-size: 12.5px;">LeetCode</a> <a href="/tags/VueJs/" style="font-size: 10px;">VueJs</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 15px;">前端</a> <a href="/tags/%E5%8D%8F%E8%AE%AE/" style="font-size: 10px;">协议</a> <a href="/tags/%E5%AE%89%E5%85%A8%E6%80%A7/" style="font-size: 12.5px;">安全性</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">工具</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">架构</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 12.5px;">算法</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/11/26/Distributed-Database-System-9/">Distributed Database System (9)</a>
          </li>
        
          <li>
            <a href="/2020/11/26/Distributed-Database-System-8/">Distributed Database System (8)</a>
          </li>
        
          <li>
            <a href="/2020/11/26/Distributed-Database-System-7/">Distributed Database System (7)</a>
          </li>
        
          <li>
            <a href="/2020/11/26/Distributed-Database-System-6/">Distributed Database System (6)</a>
          </li>
        
          <li>
            <a href="/2020/11/22/Distributed-Database-System-5/">Distributed Database System (5)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Shiming Wu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>